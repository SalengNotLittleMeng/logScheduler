(function(t,r){typeof exports=="object"&&typeof module<"u"?module.exports=r():typeof define=="function"&&define.amd?define(r):(t=typeof globalThis<"u"?globalThis:t||self,t.logScheduler=r())})(this,function(){"use strict";class t{constructor(){this.rowImage=null,this.overrideImage()}overrideImage(){const e=this.rowImage=Image,s=this;window.Image=function(...i){const n=new e(...i);let o="";return Object.defineProperty(n,"src",{get(){return o},set(u){s.isLogger(u),o=u}}),n}}isLogger(e){return typeof e!="string"?!1:e.indexOf("log.gif")!==-1}}class r{constructor(){this.currentXhrNumber=0,this.overrideXhr()}overrideXhr(){const e=this,{open:s,send:i}=XMLHttpRequest.prototype;XMLHttpRequest.prototype.open=function(n,o,u,c,d){e.currentXhrNumber++,s.apply(this,arguments)},XMLHttpRequest.prototype.send=function(n){this.addEventListener("readystatechange",function(){this.readyState===4&&e.currentXhrNumber>0&&e.currentXhrNumber--}),i.apply(this,arguments)}}getXhrNumber(){return this.currentXhrNumber}}class h{constructor(e){this.options=e,this.imageManager=null,this.xhrManager=null,this.initObserver()}initObserver(){this.imageManager=new t,this.xhrManager=new r}}return h});
//# sourceMappingURL=logScheduler.umd.cjs.map
